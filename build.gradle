plugins {
    id 'java-library'
    id 'jacoco'
    id 'com.github.kt3k.coveralls' version '2.8.2'
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    implementation 'com.google.guava:guava:26.0-jre'
	implementation 'org.apache.commons:commons-math3:3.6.1'
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}

jacocoTestReport {
	dependsOn test
    reports {
        xml.enabled = true
        html.enabled = true
        html.destination = file("${buildDir}/jacocoTestReport.xml")
    }
    
    afterEvaluate {
	    classDirectories = files(classDirectories.files.collect {
	        fileTree(dir: it,
	                exclude: ['jenerator/annotations/*'])
	    })
    }
}

coveralls {
    jacocoReportPath file("${buildDir}/jacocoTestReport.xml")
}
